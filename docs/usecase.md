# 기능 명세서 (Use Cases)

## UC-01. 회원가입 (Sign Up)
- **Actor**: 비회원 사용자
- **Preconditions**: 사용자는 LionPay 서비스에 가입되어 있지 않은 상태이다.

### 기본 흐름 (Basic Flow)
1. 사용자는 메인 화면에서 **[회원가입]** 버튼을 클릭한다.
2. 시스템은 전화번호, 이름, 비밀번호, 비밀번호 확인 입력 폼을 제공한다.
3. 사용자는 정보를 입력하고 **[가입하기]** 버튼을 클릭한다.
4. 시스템은 입력 값의 유효성을 검증한다.
5. 검증이 성공하면 회원 정보를 저장한다.
6. 회원가입 완료 메시지를 표시하고 로그인 화면으로 이동한다.

### 예외 흐름 (Exception Flow)
- 비밀번호와 비밀번호 확인 값이 다를 경우: 오류 메시지 출력
- 이미 가입된 전화번호일 경우: “이미 가입된 사용자입니다” 메시지 출력

---

## UC-02. 로그인 (Login)
- **Actor**: 회원 사용자
- **Preconditions**: 사용자는 이미 회원 가입이 완료된 상태이다.

### 기본 흐름 (Basic Flow)
1. 사용자는 로그인 화면에서 전화번호와 비밀번호를 입력한다.
2. 사용자는 **[로그인]** 버튼을 클릭한다.
3. 시스템은 입력한 정보를 검증한다.
4. 인증이 성공하면 JWT 토큰을 발급한다.
5. 사용자는 메인 화면으로 이동한다.

### 예외 흐름 (Exception Flow)
- 비밀번호가 틀린 경우: “비밀번호가 일치하지 않습니다” 메시지 출력
- 가입되지 않은 사용자: “존재하지 않는 사용자입니다” 메시지 출력

---

## UC-03. 포인트 내역 확인 (Transaction History)
- **Actor**: 회원 사용자
- **Preconditions**: 사용자는 로그인 상태이다.

### 기본 흐름 (Basic Flow)
1. 사용자는 메인 화면에서 **[내역 확인]** 버튼을 클릭한다.
2. 시스템은 사용자의 전체 트랜잭션 내역을 조회한다.
3. 시스템은 충전/차감/잔액 변동 내역 리스트를 화면에 출력한다.

### 예외 흐름 (Exception Flow)
- 트랜잭션 내역이 없는 경우: “거래 내역이 없습니다” 메시지 출력

---

## UC-04. 포인트 충전 (Charge)
- **Actor**: 회원 사용자
- **Preconditions**: 사용자는 로그인 상태이다.

### 기본 흐름 (Basic Flow)
1. 사용자는 메인 화면에서 **[충전]** 버튼을 클릭한다.
2. 시스템은 현재 포인트 잔액과 충전 입력 폼을 표시한다.
3. 사용자는 충전할 포인트 금액을 입력한다.
4. 사용자는 **[충전 요청]** 버튼을 클릭한다.
5. 시스템은 입력 금액의 유효성(0보다 큰 수, 한도 초과 여부)을 검증한다.
6. 검증이 성공하면 시스템은 포인트를 적립한다.
7. 시스템은 트랜잭션 로그(충전 이력)를 저장한다.
8. 시스템은 충전 성공 메시지와 함께 업데이트된 잔액을 표시한다.
9. 사용자는 메인 화면으로 이동한다.

### 예외 흐름 (Exception Flow)
- 충전 금액이 0 이하일 경우: “유효하지 않은 금액입니다” 메시지 출력
- 서버 오류 발생 시: “충전에 실패했습니다. 다시 시도해주세요” 메시지 출력

---

## UC-05. 포인트 결제 (Payment)
- **Actor**: 회원 사용자
- **Preconditions**: 
  - 사용자는 로그인 상태이다.
  - 사용자는 포인트 잔액을 보유하고 있다.

### 기본 흐름 (Basic Flow)
1. 사용자는 홈 화면에서 국가를 선택한다.
2. 사용자는 홈 화면의 **[결제]** 버튼을 클릭한다.
3. 사용자는 상점 목록에서 상점을 선택한다.
4. 사용자는 **[결제 요청]** 버튼을 클릭한다.
5. 시스템은 잔액이 충분한지 검증한다.
6. 잔액이 충분할 경우 포인트를 차감한다.
7. 트랜잭션 로그를 저장한다.
8. 결제 완료/실패 메시지를 출력하고 홈 화면으로 자동 이동한다.

### 예외 흐름 (Exception Flow)
- 잔액 부족: “잔액이 부족합니다” 메시지 출력
- 서버 오류: “결제에 실패했습니다” 메시지 출력

---

## UC-06. 관리자 통합 조회 (Admin Dashboard)
- **Actor**: 관리자
- **Preconditions**: 관리자는 관리자 계정으로 로그인한 상태이다.

### 기본 흐름 (Basic Flow)
1. 관리자는 메인 화면에서 **[관리자 페이지]** 버튼을 클릭한다.
2. 시스템은 회원 정보 목록을 출력한다.
3. 시스템은 전체 포인트 잔액 현황을 출력한다.
4. 시스템은 **리전 장애 여부(서울/도쿄)**를 표시한다.

### 예외 흐름 (Exception Flow)
- 관리자 권한이 없는 사용자가 접근 시: “접근 권한이 없습니다” 메시지 출력
